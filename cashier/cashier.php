<?php

$data = [500, 200, 100, 50, 20, 10, 5, 2, 1, 0.50, 0.20, 0.10, 0.05, 0.02, 0.01];
$total = 1730.20;

$results = [];
foreach ($data as $money) {
    $amount = floor($total / $money);
    $total -= $money * $amount;
    $results["$money"] = $amount;
}

print_r($results);
// Array
// (
//     [500] => 3
//     [200] => 1
//     [100] => 0
//     [50] => 0
//     [20] => 1
//     [10] => 1
//     [5] => 0
//     [2] => 0
//     [1] => 0
//     [0.5] => 0
//     [0.2] => 1
//     [0.1] => 0
//     [0.05] => 0
//     [0.02] => 0
//     [0.01] => 0
// )
